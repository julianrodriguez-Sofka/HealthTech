# Serenity Configuration File
# Configuration for Serenity BDD tests - HealthTech

environments {
    default {
        webdriver.base.url = "http://localhost:3003"
    }
    dev {
        webdriver.base.url = "http://localhost:3003"
    }
    docker {
        webdriver.base.url = "http://localhost:3003"
    }
}

webdriver {
    driver = chrome
    capabilities {
        browserName = "chrome"
        "goog:chromeOptions" {
            args = [
                "start-maximized",
                "disable-infobars",
                "disable-dev-shm-usage",
                "disable-browser-side-navigation",
                "no-sandbox",
                "disable-gpu",
                "disable-features=IsolateOrigins,site-per-process",
                "window-size=1920,1080",
                "remote-allow-origins=*"
            ]
            prefs {
                "profile.default_content_setting_values.notifications" = 2
            }
        }
        acceptInsecureCerts = true
    }
    wait.for.timeout = 30000
    timeouts {
        implicitlywait = 10000
        fluentwait = 30000
    }
}

serenity {
    take.screenshots = FOR_EACH_ACTION
    logging = VERBOSE
    report {
        accessibility = true
    }
    feature.file.encoding = "UTF-8"
    step.delay = 100
    task.timeout = 60
    test.root = "com.healthtech.runners"
    project.name = "HealthTech - Sistema de Triage"
}

chrome {
    switches = [
        "--start-maximized",
        "--disable-infobars",
        "--disable-dev-shm-usage",
        "--no-sandbox",
        "--disable-gpu",
        "--remote-allow-origins=*"
    ]
}

logging {
    level {
        root = INFO
        net.serenitybdd = INFO
        com.healthtech = DEBUG
    }
}
